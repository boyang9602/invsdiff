package ca.concordia.apr.invsdiff;

import java.io.FileNotFoundException;
import java.io.IOException;

/**
 * Compare similar invariants file generated by daikon, i.e. invariants of slightly different versions
 *
 */
public class App 
{
    public static void main( String[] args ) throws FileNotFoundException, IOException
    {
    	if (args.length < 2) {
    		System.out.println("Usage: \n - ca.concordia.apr.invsdiff.App invsfile0 invsfile1 invsfile2 ... \n");
    		System.exit(1);
    	}
    	InvsFile base = new InvsFile(args[0]);
        for (int j = 1; j < args.length; j++) {
        	InvsFile toBeCompared = new InvsFile(args[j]);
        	Diff diff = Diff.compare(base, toBeCompared);
        	diff.writeJSONTo("diff-" + base.getFilename() + "-" + toBeCompared.getFilename() + ".json");
        }
    }
}
